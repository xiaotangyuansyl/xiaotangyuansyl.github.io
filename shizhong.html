<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小朋友时钟认知游戏</title>
    <style>
        body {
            font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
            background-color: #f0f8ff;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        h1 {
            color: #ff6b6b;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .game-container {
            display: flex;
            justify-content: space-around;
            width: 90%;
            max-width: 800px;
            margin-top: 20px;
        }
        
        .clock-container {
            width: 300px;
            height: 300px;
            position: relative;
            background-color: white;
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border: 10px solid #4d96ff;
        }
        
        .clock-face {
            position: relative;
            width: 100%;
            height: 100%;
        }
        
        .hour-hand, .minute-hand {
            position: absolute;
            left: 50%;
            bottom: 50%;
            transform-origin: 50% 100%;
            background-color: #333;
            border-radius: 10px;
        }
        
        .hour-hand {
            width: 8px;
            height: 80px;
            margin-left: -4px;
        }
        
        .minute-hand {
            width: 6px;
            height: 120px;
            margin-left: -3px;
            background-color: #555;
        }
        
        .center-dot {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 16px;
            height: 16px;
            margin-left: -8px;
            margin-top: -8px;
            background-color: #ff6b6b;
            border-radius: 50%;
            z-index: 10;
        }
        
        .numbers {
            position: absolute;
            width: 100%;
            height: 100%;
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }
        
        .number {
            position: absolute;
            width: 30px;
            height: 30px;
            text-align: center;
            line-height: 30px;
        }
        
        .options-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            width: 200px;
        }
        
        .option {
            background-color: #4d96ff;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .option:hover {
            background-color: #6cabff;
            transform: translateY(-2px);
        }
        
        .feedback {
            margin-top: 20px;
            font-size: 24px;
            font-weight: bold;
            height: 30px;
        }
        
        .correct {
            color: #2ecc71;
        }
        
        .incorrect {
            color: #e74c3c;
        }
        
        .next-btn {
            background-color: #ff6b6b;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 15px 30px;
            font-size: 20px;
            margin-top: 10px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .next-btn:hover {
            background-color: #ff8787;
            transform: translateY(-2px);
        }
        
        .mode-btn {
            background-color: #58cc70;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 15px 30px;
            font-size: 20px;
            margin-top: 10px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .mode-btn:hover {
            background-color: #6ce487;
            transform: translateY(-2px);
        }
        
        .score {
            margin-top: 20px;
            font-size: 20px;
            color: #4d96ff;
        }
        
        .button-container {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>小朋友时钟认知游戏</h1>
    <p id="instruction">看看时钟显示的时间，然后在右侧选择正确的答案吧！</p>
    
    <div class="game-container">
        <div class="clock-container">
            <div class="clock-face">
                <div class="hour-hand"></div>
                <div class="minute-hand"></div>
                <div class="center-dot"></div>
                <div class="numbers" id="clock-numbers"></div>
            </div>
        </div>
        
        <div class="options-container" id="options">
            <!-- 选项将通过JavaScript动态生成 -->
        </div>
    </div>
    
    <div class="feedback" id="feedback"></div>
    
    <div class="button-container">
        <button class="next-btn" id="next-btn">下一个时钟</button>
        <button class="mode-btn" id="mode-btn">切换到整点模式</button>
    </div>
    
    <div class="score" id="score">得分: 0</div>
    
    <script>
        // 所有可能的半点时间（1:30到12:30）
        const halfHourTimes = [
            "1:30", "2:30", "3:30", "4:30", "5:30", 
            "6:30", "7:30", "8:30", "9:30", "10:30", 
            "11:30", "12:30"
        ];
        
        // 所有可能的整点时间（1:00到12:00）
        const fullHourTimes = [
            "1:00", "2:00", "3:00", "4:00", "5:00", 
            "6:00", "7:00", "8:00", "9:00", "10:00", 
            "11:00", "12:00"
        ];
        
        let currentTime = "";
        let score = 0;
        let isHalfHourMode = true; // 默认为半点模式
        
        // 初始化时钟数字
        function initClockNumbers() {
            const clockNumbers = document.getElementById('clock-numbers');
            clockNumbers.innerHTML = ''; // 清空原有内容
            
            for (let i = 1; i <= 12; i++) {
                const angle = (i * 30) * (Math.PI / 180);
                const radius = 120;
                const x = 150 + Math.sin(angle) * radius - 15;
                const y = 150 - Math.cos(angle) * radius - 15;
                
                const number = document.createElement('div');
                number.className = 'number';
                number.style.left = x + 'px';
                number.style.top = y + 'px';
                number.textContent = i;
                
                clockNumbers.appendChild(number);
            }
        }
        
        // 设置时钟时间
        function setClockTime(time) {
            const [hours, minutes] = time.split(':').map(Number);
            
            // 计算时针和分针的角度
            const hourAngle = (hours % 12) * 30 + minutes * 0.5;
            const minuteAngle = minutes * 6;
            
            // 设置指针旋转
            document.querySelector('.hour-hand').style.transform = `rotate(${hourAngle}deg)`;
            document.querySelector('.minute-hand').style.transform = `rotate(${minuteAngle}deg)`;
        }
        
        // 生成随机时间
        function generateRandomTime() {
            let randomTime;
            const timePool = isHalfHourMode ? halfHourTimes : fullHourTimes;
            const randomIndex = Math.floor(Math.random() * timePool.length);
            randomTime = timePool[randomIndex];
            
            currentTime = randomTime;
            
            // 设置时钟显示
            setClockTime(currentTime);
            
            // 生成选项
            generateOptions();
            
            // 清空反馈
            document.getElementById('feedback').textContent = '';
            
            // 启用所有选项按钮
            const buttons = document.querySelectorAll('.option');
            buttons.forEach(button => {
                button.disabled = false;
            });
        }
        
        // 生成选项
        function generateOptions() {
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            // 创建选项数组（包含正确答案和随机错误答案）
            let options = [currentTime];
            
            // 根据当前模式选择时间池
            const timePool = isHalfHourMode ? halfHourTimes : fullHourTimes;
            
            // 添加3个随机错误答案
            while (options.length < 4) {
                const randomIndex = Math.floor(Math.random() * timePool.length);
                const randomTime = timePool[randomIndex];
                
                if (!options.includes(randomTime)) {
                    options.push(randomTime);
                }
            }
            
            // 打乱选项顺序
            options = shuffleArray(options);
            
            // 创建选项按钮
            options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option';
                button.textContent = option;
                
                button.addEventListener('click', function() {
                    checkAnswer(option);
                });
                
                optionsContainer.appendChild(button);
            });
        }
        
        // 检查答案
        function checkAnswer(selectedTime) {
            const feedback = document.getElementById('feedback');
            
            if (selectedTime === currentTime) {
                feedback.textContent = '正确！';
                feedback.className = 'feedback correct';
                score++;
                document.getElementById('score').textContent = `得分: ${score}`;
            } else {
                feedback.textContent = `不对哦，正确答案是 ${currentTime}`;
                feedback.className = 'feedback incorrect';
            }
            
            // 禁用所有选项按钮
            const buttons = document.querySelectorAll('.option');
            buttons.forEach(button => {
                button.disabled = true;
            });
        }
        
        // 切换模式
        function toggleMode() {
            isHalfHourMode = !isHalfHourMode;
            
            const modeBtn = document.getElementById('mode-btn');
            const instruction = document.getElementById('instruction');
            
            if (isHalfHourMode) {
                modeBtn.textContent = '切换到整点模式';
                instruction.textContent = '看看时钟显示的时间，然后在右侧选择正确的答案吧！';
            } else {
                modeBtn.textContent = '切换到半点模式';
                instruction.textContent = '看看时钟显示的整点时间，然后在右侧选择正确的答案吧！';
            }
            
            // 生成新的随机时间
            generateRandomTime();
        }
        
        // 打乱数组顺序
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        // 初始化游戏
        function initGame() {
            initClockNumbers();
            generateRandomTime();
            
            // 下一个按钮事件
            document.getElementById('next-btn').addEventListener('click', () => {
                generateRandomTime();
            });
            
            // 模式切换按钮事件
            document.getElementById('mode-btn').addEventListener('click', toggleMode);
        }
        
        // 页面加载完成后初始化游戏
        window.addEventListener('load', initGame);
    </script>
</body>
</html>
